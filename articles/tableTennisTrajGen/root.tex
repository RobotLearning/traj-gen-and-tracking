\documentclass[letterpaper, 10 pt, conference]{ieeeconf}
%\documentclass[10pt,a4paper]{article}
\IEEEoverridecommandlockouts % This command is only needed if you want to use the \thanks command

\overrideIEEEmargins % Needed to meet printer requirements.

\usepackage[latin1]{inputenc}
\usepackage{amsmath}
%\usepackage{amsthm}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{mathtools}
\usepackage{graphicx}
\usepackage{color}
\usepackage{subcaption} 
%\usepackage{hyperref}

%\usepackage{pgfplots}
%  \pgfplotsset{compat=newest}
%  %% the following commands are sometimes needed
%  \usepgfplotslibrary{external} 
%  \tikzexternalize
%  \usepackage{grffile}
%  %% you may also want the following commands
%  %\pgfplotsset{plot coordinates/math parser=false}
%  %\newlength\figureheight
%  %\newlength\figurewidth

% theorem environment
\newtheorem{prop}{Proposition}[section]
\newtheorem{theorem}{Theorem}[section]
\newtheorem{prop2}{Proposition}
\newtheorem{lem}{Lemma}
\newtheorem{ex}{Example}

% For algorithms
\usepackage{algorithm}
\usepackage{algorithmic}

% custom commands
\newcommand{\boldvec}[1]{\boldsymbol{\mathrm{#1}}}
\let\vec\boldvec
\newcommand\at[2]{\left.#1\right|_{#2}} % the at differential sign
\newcommand\scalemath[2]{\scalebox{#1}{\mbox{\ensuremath{\displaystyle #2}}}} % scaling matrices
\newcommand{\rpm}{\raisebox{.2ex}{$\scriptstyle\pm$}} % plus minus sign

%% custom macros

% % % % % % % % Notation for robot % % % % % % %
\newcommand{\todo}{\textcolor{red}{TODO}} % TODO!
\newcommand{\kin}{\vec{K}} % used to denote forward kinematics
\newcommand{\invKin}{\mathtt{K}^{-1}} % used to denote inverse kinematics
\newcommand{\jac}{\vec{J}} % jacobian

% Maximum principle
\newcommand{\sysInput}{\vec{u}} % control inputs
\newcommand{\momenta}{\vec{\lambda}} %generalized momenta

\newcommand{\joint}{\vec{q}} % used to denote robot state in joint space
\newcommand{\state}{\vec{y}} % denotes the generalized coordinates - joint angles and angular velocities
\newcommand{\error}{\vec{e}} % difference between state and reference
\newcommand{\traj}{\vec{r}} % used to denote the points on the trajectory to be tracked

\newcommand{\totalTime}{T} % total time duration 
\newcommand{\numSteps}{N} % total number of time steps
\newcommand{\threshold}{\epsilon}
\newcommand{\alg}{\emph{TT-OPT}} % optimal table tennis
\newcommand{\dataset}{\mathcal{D}}
\newcommand{\dataMatrix}{\vec{X}} % human-ball interaction
\newcommand{\observations}{\vec{y}} 

% pos,vel and acc constraints
\newcommand{\jointMax}{\joint_{\mathrm{max}}}
\newcommand{\jointMin}{\joint_{\mathrm{min}}}
\newcommand{\velMax}{\dot{\joint}_{\mathrm{max}}}
\newcommand{\velMin}{\dot{\joint}_{\mathrm{min}}}
\newcommand{\accMax}{\ddot{\joint}_{\mathrm{max}}}
\newcommand{\accMin}{\ddot{\joint}_{\mathrm{min}}}

% % % % % % % % Table tennis notation % % % % % %
\newcommand{\ballFull}{\vec{x}_{B}} % ball cartesian state
\newcommand{\ball}{\vec{b}} % ball positions
\newcommand{\ballEst}{\vec{b}_{\mathrm{est}}} % ball estimates (provided by EKF)
\newcommand{\ballLand}{\vec{b}_{\mathrm{land}}} % ball landing position (provided by EKF smoothing)
\newcommand{\ballRadius}{r_B}
\newcommand{\ballVel}{v} 
\newcommand{\ballDynamics}{\vec{D}} % ball dynamics
\newcommand{\drag}{C} % drag
\newcommand{\gravity}{g}
\newcommand{\bounce}{\vec{E}} 
\newcommand{\contactModel}{\vec{F}} % contact model
\newcommand{\racket}{\vec{r}} % racket positions
\newcommand{\racketVel}{\vec{v}} % racket velocity
\newcommand{\racketRadius}{r_R} % racket radius
\newcommand{\orient}{\vec{o}} % racket orientations
\newcommand{\normal}{\vec{n}} % racket normal
\newcommand{\robot}{\vec{x}_{R}} % racket state involving pos,vel and orient
\newcommand{\court}{\mathcal{T}} % table
\newcommand{\net}{\mathcal{N}} % net
\newcommand{\wall}{\mathcal{W}} % wall

% % % % % % % % Probability notation % % % % % % %
\newcommand{\prob}{\mathbb{P}} % probability
\newcommand{\landEvent}{\mathcal{L}} % land on table
\newcommand{\hitTime}{\tau_{\mathrm{hit}}} % hitting or striking time
\newcommand{\landTime}{\tau_{\mathrm{land}}} % landing time on table


% Set the paths where all figures are taken from:
\graphicspath{{Pictures/}}
\mathtoolsset{showonlyrefs} 
\newcommand{\includesvg}[1]{%
% \executeiffilenewer{#1.svg}{#1.pdf}%
% {inkscape -z -D --file=#1.svg %
% --export-pdf=#1.pdf --export-latex}%
 \input{#1.pdf_tex}%
}

\author{Okan Ko\c c$^{1}$, Jan Peters$^{1,2}$, Guilherme Maeda$^{2}$% <-this % stops a space 
\thanks{$^{1}$Max Planck Institute for Intelligent Systems,
        Spemannstr. 38, 72076 Tuebingen, Germany
        {\tt\small okan.koc@tuebingen.mpg.de}}
\thanks{$^{2}$Technische Universitaet Darmstadt, FG Intelligente Autonome Systeme
        Hochschulstr. 10, 64289 Darmstadt, Germany {\tt\small peters@ias.tu-darmstadt.de}}
}
\title{A New Trajectory Generation Framework in Robotic Table Tennis}

\begin{document}

\maketitle
\thispagestyle{empty}
\pagestyle{empty}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{abstract}

In highly dynamic tasks that involve moving targets, planning is necessary to figure out when, where and how to intercept the target. In robotic table tennis in particular, motion planning can be very challenging due to time constraints, dimension of the search space and modelling uncertainties. To simplify the problem, conventional planning algorithms often rely on a fixed virtual hitting plane to construct robot striking trajectories. These algorithms however generate restrictive strokes and can result in unnatural strategies when compared with human playing. In this paper, we introduce a new trajectory generation framework for robotic table tennis. We use a free-time optimal control approach to construct a novel planning algorithm that does not involve a fixed hitting plane. Furthermore, we estimate the parameters of our prediction models using human demonstrations. The resulting trajectories are smoother while the joint constraints are enforced at all times. Our algorithm returns the balls with a higher probability to the opponent's court in our realistic simulation environment when compared with a virtual hitting plane based method.

% better term for task redundancy?
% certainty-equivalent, cautious


\end{abstract}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\input{introduction}
\input{relatedWork}
\input{method}
\input{algorithm}
\input{experiments}
\input{conclusion}

\bibliographystyle{plain}
%\bibliographystyle{./IEEEtran}
%\bibliography{./IEEEabrv,./iros2015Ref}
\bibliography{./ttRef}

\input{appendix}

\end{document}
